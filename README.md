# LB Editor

**Редактор локалізації для перекладу ігор українською мовою.**

Electron-застосунок для роботи з текстовими ресурсами ігор — JSON-файлами діалогів, текстовими файлами та рядковими масивами. Має вбудований словник, перевірку орфографії, глосарій ігрових термінів та скляноморфний інтерфейс з темами.

---

## Можливості

### Редактор
- Три режими роботи: **Ishin** (JSON з text[]/speakers[]), **Other** (тека .txt файлів), **JoJo** (JSON-масив рядків)
- Плоский та розділений редактор (текст + спікери окремо)
- Пошук та заміна по всіх записах (Ctrl+H)
- Diff-перегляд змін (Ctrl+D)
- Система вкладок для закріплених записів
- Закладки записів (F2) з панеллю навігації (Ctrl+B)
- Теги статусу: «перекладено», «відредаговано»
- Історія змін з можливістю відкату (Ctrl+Shift+H)
- Автозбереження та recovery-файл (захист від втрати даних)
- Пакетний імпорт/експорт .txt файлів

### Словник та глосарій
- 920+ термінів ігрової локалізації (Yakuza, NieR тощо)
- Редактор глосарію (Ctrl+G) з пошуком та автозаміною
- Підсвітка термінів глосарію в тексті
- Перевірка орфографії українською (nspell + uk_UA)
- Аналіз частих слів (Ctrl+Shift+A)

### Аналітика
- Прогрес перекладу — записи, рядки, відсоток
- Розширена статистика: слова, символи, мова рядка (Ctrl+Shift+I)
- Мінімапа з кольоровим відображенням стану записів
- Синхронізація прогресу між файлами (Ctrl+Shift+P)

### Інтерфейс
- Скляноморфний (glass morphism) дизайн
- 6 вбудованих тем + редактор власних тем
- Налаштування шрифту, ефектів, перенесення рядків
- Командна палітра (F1)
- Попередження про можливе вимкнення світла

---

## Скриншоти

> *TODO: додати скриншоти інтерфейсу*

---

## Встановлення

### Готовий .exe (Windows)

Завантажте з [Releases](https://github.com/LittleBitUA/LBEditor/releases):
- **LB.exe** — портативна версія (без інсталяції)
- **LB-Setup.exe** — інсталятор

### Зі сорс-коду

**Вимоги:** [Node.js](https://nodejs.org/) 18+ та npm

```bash
git clone https://github.com/LittleBitUA/LBEditor.git
cd LBEditor
npm install
```

Запуск у режимі розробки:
```bash
npm start
```

Збірка .exe:
```bash
npm run build
```

Результат у теці `dist/`:
- `LB.exe` — портативна версія
- `LB-Setup.exe` — інсталятор (NSIS)

---

## Структура проєкту

```
LBEditor/
├── main.js                 # Electron main process — меню, діалоги, IPC
├── renderer.js             # Уся логіка застосунку (~9000 рядків)
├── index.html              # Розмітка інтерфейсу
├── styles.css              # Стилі, теми, glass morphism
├── highlight-worker.js     # Worker: перевірка орфографії + підсвітка глосарію
├── analysis-worker.js      # Worker: статистика, прогрес, часті слова
├── io-worker.js            # Worker: файлові операції, recovery
├── editor_glossary.json    # Глосарій ігрових термінів (920+ записів)
├── package.json            # Конфігурація npm та electron-builder
├── dicts/
│   ├── uk_UA.aff           # Словник nspell — афікси
│   └── uk_UA.dic           # Словник nspell — слова
└── build/
    ├── icon.ico            # Іконка .exe
    └── icon.png            # Іконка PNG
```

### Дані користувача

| Файл | Опис |
|------|------|
| `editor_settings.json` | Налаштування (тема, шрифт, ефекти) |
| `editor_sessions.json` | Останні файли та вкладки |
| `editor_bookmarks.json` | Закладки записів |
| `editor_tags.json` | Теги статусу (перекладено/відредаговано) |
| `editor_history.json` | Історія змін записів |

Розташування:
- **Портативна версія** — поруч з .exe
- **Інсталятор** — `%AppData%/LB`
- **Режим розробки** — тека проєкту

---

## Гарячі клавіші

| Клавіша | Дія |
|---------|-----|
| `Ctrl+S` | Зберегти |
| `Ctrl+F` | Пошук у файлі |
| `Ctrl+H` | Знайти та замінити |
| `Ctrl+D` | Diff-перегляд |
| `Ctrl+L` | Перейти до рядка |
| `Ctrl+T` | Розділений/плоский режим |
| `Ctrl+G` | Редактор глосарію |
| `Ctrl+B` | Панель закладок |
| `Ctrl+,` | Налаштування |
| `F1` | Командна палітра |
| `F2` | Закладка запису |
| `Ctrl+F2` | Наступна закладка |
| `Ctrl+Shift+G` | Замінити з глосарію |
| `Ctrl+Shift+A` | Часті слова |
| `Ctrl+Shift+I` | Статистика перекладу |
| `Ctrl+Shift+H` | Історія змін |
| `Ctrl+Shift+W` | Авто-перенесення тексту |
| `Ctrl+Shift+P` | Синхронізація прогресу |
| `Ctrl+Enter` | Застосувати зміни |
| `Escape` | Скасувати / закрити панель |
| `↑` / `↓` | Попередній / наступний запис |

---

## Технології

- **[Electron](https://www.electronjs.org/) 33** — кросплатформний десктоп-фреймворк
- **Vanilla JavaScript** — без фронтенд-фреймворків
- **[nspell](https://github.com/wooorm/nspell)** — перевірка орфографії (OpenOffice-сумісні словники)
- **Worker Threads** — виокремлення важких операцій (I/O, аналіз, підсвітка)
- **Glass Morphism CSS** — скляноморфний дизайн з backdrop-filter blur
- **electron-builder** — збірка .exe (portable + NSIS installer)

---

## Ліцензія

[MIT](LICENSE)
